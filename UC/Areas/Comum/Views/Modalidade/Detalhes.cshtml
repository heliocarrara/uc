@model UC.Models.ViewModels.VMModalidade

@{
    ViewBag.Title = "Detalhes da Modalidade";
}

<div class="panel panel-info panel-detalhes-modalidade">
    <div class="panel-heading">
        <span class="panel-title-col"><strong>@Model.nome</strong></span>
    </div>
    <div class="panel-body">
        <ul class="list-group">
            <li class="list-group-item"><h3>Inscrição: @Model.ValorInscrição</h3></li>
            <li class="list-group-item"><h3>Mensalidade: @Model.ValorMensalidade</h3></li>
            <li class="list-group-item"><h3>Vagas Totais: @Model.Turmas.Sum(x => x.Vagas)</h3></li>
        </ul>
    </div>

    <div class="row">
        @if (Model.ativa)
        {
            @Html.ActionLink("Excluir", "Excluir", "Modalidade", new { Area = "Cadastro", modalidadeUID = Model.modalidadeUID }, new { @class = "btn btn-danger" })
        }
        else
        {
            @Html.ActionLink("Reciclar", "Reciclar", "Modalidade", new { Area = "Cadastro", modalidadeUID = Model.modalidadeUID }, new { @class = "btn btn-danger" })
        }

        @Html.ActionLink("Editar", "Editar", "Modalidade", new { Area = "Cadastro", modalidadeUID = Model.modalidadeUID }, new { @class = "btn btn-warning" })

        @if (Model.disponivel)
        {
            @Html.ActionLink("Desativar", "Desativar", "Modalidade", new { Area = "Cadastro", modalidadeUID = Model.modalidadeUID }, new { @class = "btn btn-warning" })

        }
        else
        {
            @Html.ActionLink("Ativar", "Ativar", "Modalidade", new { Area = "Cadastro", modalidadeUID = Model.modalidadeUID }, new { @class = "btn btn-warning" })
        }

        @Html.ActionLink("Incluir Turma", "NovaTurma", "Turma", new { Area = "Cadastro", modalidadeUID = Model.modalidadeUID }, new { @class = "btn btn-success" })

    </div>
</div>
<br />
<div class="panel panel-info">
    <span class="panel-title-col">Turmas da Modalidade</span>
</div>
<div class="panel">
    @if (Model.Turmas != null && Model.Turmas.Any())
    {
        foreach (var cadaTurma in Model.Turmas)
        {
            <div class="panel panel-info panel-detalhes-turma">
                <div class="panel-heading panel-title-row">
                        @cadaTurma.Nome
                </div>
                <div class="panel-body">
                    <ul class="list-group">
                        <li class="list-group-item"><h3><strong>Descrição: </strong>@cadaTurma.Descricao</h3></li>
                        <li class="list-group-item"><h3><strong>Horario de Inicio: </strong>@cadaTurma.HorarioInicio.ToShortTimeString()</h3></li>
                        <li class="list-group-item"><h3><strong>Horario de Término: </strong>@cadaTurma.HorarioTermino.ToShortTimeString()</h3></li>
                        <li class="list-group-item"><h3><strong>Dias da Semana: @cadaTurma.DiasDaSemana.todosOsDias</strong></h3></li>
                        <li class="list-group-item"><h3><strong>Duração: @cadaTurma.DuracaoAula Min</strong></h3></li>
                        <li class="list-group-item"><h3><strong>Nº de Vagas: </strong>@cadaTurma.Vagas</h3></li>
                    </ul>
                        
                </div>
            </div>
        }
    }
    else
    {
        <div class="panel-body">
            <h3>Não há tumas disponíveis no momento.</h3>
        </div>
    }
</div>

